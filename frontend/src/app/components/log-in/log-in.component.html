<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body class="rounded">
    <div class="content-wrapper">
        <div class="logo-container">
            <img src="assets/images/kulkerlogo.png" alt="Külkerlogo" id="logo">
        </div>
        
        <div id="login">
            <form (ngSubmit)="login()" #loginForm="ngForm">
                <h2>{{"login.Jelentkezz be!" | translate}}</h2>
                
                <div class="form-group">
                    <label for="email">{{"login.Email:" | translate}}</label>
                    <input 
                        name="email" 
                        type="text" 
                        id="email" 
                        [(ngModel)]="email"
                        #emailControl="ngModel"
                        required
                        pattern="[A-Za-z0-9._%+\-]+@[A-Za-z0-9.\-]+\.[A-Za-z]{2,}$">
                    @if(emailControl.invalid && (emailControl.dirty || emailControl.touched)){
                        <div class="error-message">
                            @if(emailControl.hasError('required')){
                                <span>{{"login.err1" | translate}}</span>
                            } @else if(emailControl.hasError('pattern')){
                                <span>{{"login.err2" | translate}}</span>
                            }
                        </div>
                    }
                </div>
                
                <div class="form-group">
                    <label for="password">{{"login.Jelszó:" | translate}}</label>
                    <input 
                        name="password" 
                        type="password" 
                        id="password" 
                        [(ngModel)]="password"
                        #passwordControl="ngModel"
                        required
                        pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,}$">
                    @if(passwordControl.invalid && (passwordControl.dirty || passwordControl.touched)){
                        <div class="error-message">
                            @if(passwordControl.hasError('required')){
                                <span>{{"login.err3" | translate}}</span>
                            } @else if(passwordControl.hasError('pattern')){
                                <span>{{"login.err4" | translate}}</span>
                            }
                        </div>
                    }
                </div>
                
                <button 
                    type="submit" 
                    [disabled]="loginForm.invalid">
                    {{"login.Bejelentkezés" | translate}}
                </button>
                
                <a [routerLink]="['/register']">{{"login.Nincs még fiókod, regisztrálj most!" | translate}}</a>
            </form>
        </div>
    </div>
</body>
</html>